<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>VoiceSynth</title>
</head>
<body>
    <button onclick="init()">INIT</button>
    <button onclick="resume()">PLAY</button>
    <button onclick="suspend()">PAUSE</button>
    <script>

var fftSize = 16384; // ~0.37 seconds with ~2.7 Hz bins for 44100 sample rate

var context;
var oscillator;
var binWidth;


async function init() {
    try {
        context = new (window.AudioContext || window.webkitAudioContext)();
        binWidth = context.sampleRate / fftSize;

        oscillator = context.createOscillator();
        oscillator.type = 'sawtooth';
        oscillator.frequency.setValueAtTime(220, context.currentTime);
        oscillator.connect(context.destination);
        oscillator.start();
        window.alert('Successfully initialized');
    } catch(err) {
        window.alert('Cannot create audio context: ' + err);
    }
}

function tune(f) {
    oscillator.frequency.setValueAtTime(440, context.currentTime);
}

function resume() {
    context.resume();
}

function suspend() {
    context.suspend();
}  

    </script>
	
</body>
</html>
